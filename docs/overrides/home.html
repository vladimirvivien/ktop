{% extends "main.html" %}

{% block tabs %}
{{ super() }}

<style>
  .md-main {
    flex-grow: 0;
  }

  .md-main__inner {
    display: flex;
    height: 100%;
  }

  .tx-container {
    padding-top: 1rem;
    background: linear-gradient(to bottom, var(--md-primary-fg-color), #6366f1);
  }

  .tx-hero {
    margin: 0 .8rem;
    color: var(--md-primary-bg-color);
    text-align: center;
  }

  .tx-hero__logo {
    height: 6rem;
    margin-bottom: 1rem;
  }

  .tx-hero__content {
    padding-bottom: 2rem;
    max-width: 40rem;
    margin: 0 auto;
  }

  .tx-hero__content p {
    font-size: 1.2rem;
    margin-bottom: 1.5rem;
  }

  .tx-hero__image {
    width: 100%;
    max-width: 900px;
    margin: 2rem auto 0;
    padding: 0 1rem 2rem;
  }

  .tx-hero__image img {
    width: 100%;
    height: auto;
    border-radius: 0.5rem;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
  }

  .tx-hero .md-button {
    margin-top: .5rem;
    margin-right: .5rem;
    color: var(--md-primary-bg-color);
    border-color: var(--md-primary-bg-color);
  }

  .tx-hero .md-button:focus,
  .tx-hero .md-button:hover {
    background-color: var(--md-primary-bg-color);
    color: var(--md-primary-fg-color);
    border-color: var(--md-primary-bg-color);
  }

  .tx-hero .md-button--primary {
    background-color: var(--md-primary-bg-color);
    color: var(--md-primary-fg-color);
    border-color: var(--md-primary-bg-color);
  }

  .tx-hero .md-button--primary:focus,
  .tx-hero .md-button--primary:hover {
    background-color: var(--md-accent-fg-color);
    color: var(--md-primary-bg-color);
    border-color: var(--md-accent-fg-color);
  }
</style>

<section class="tx-container">
  <div class="md-grid md-typeset">
    <div class="tx-hero">
      <div class="tx-hero__content">
        <img src="images/ktop-logo.svg" alt="ktop" class="tx-hero__logo">
        <p>A <strong>top-like tool</strong> for viewing Kubernetes cluster metrics from your terminal.</p>
        <a href="guide/" class="md-button md-button--primary">
          Get Started
        </a>
        <a href="https://github.com/vladimirvivien/ktop" class="md-button">
          View on GitHub
        </a>
      </div>
      <div class="tx-hero__image">
        <img src="images/ktop.png" alt="ktop screenshot" draggable="false">
      </div>
    </div>
  </div>
</section>

{% endblock %}

{% block content %}
<style>
  .feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
  }

  .feature-card {
    padding: 1.5rem;
    border-radius: 0.5rem;
    background: var(--md-code-bg-color);
    border: 1px solid var(--md-typeset-table-color);
  }

  .feature-card h3 {
    margin-top: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .feature-card h3 svg {
    width: 1.2em;
    height: 1.2em;
    fill: currentColor;
    flex-shrink: 0;
  }

  .feature-card p {
    margin-bottom: 0;
    color: var(--md-typeset-color);
    opacity: 0.8;
  }

  .install-section {
    margin: 3rem 0;
  }

  /* Tab styles for Quick Install */
  .install-tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid var(--md-typeset-table-color);
    margin-bottom: 1rem;
  }

  .install-tabs input[type="radio"] {
    display: none;
  }

  .install-tabs label {
    padding: 0.75rem 1.25rem;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -1px;
    color: var(--md-typeset-color);
    opacity: 0.7;
    transition: opacity 0.2s, border-color 0.2s;
  }

  .install-tabs label:hover {
    opacity: 1;
  }

  .install-tabs input[type="radio"]:checked+label {
    border-bottom-color: var(--md-accent-fg-color);
    opacity: 1;
  }

  .install-content {
    display: none;
    padding: 1rem 0;
  }

  .install-content.active {
    display: block;
  }

  .install-content pre {
    margin: 0;
    padding: 1rem;
    background: var(--md-code-bg-color);
    border-radius: 0.25rem;
    overflow-x: auto;
  }

  .install-content code {
    font-family: var(--md-code-font-family);
  }
</style>

<h2>Features</h2>
<div class="feature-grid">
  <div class="feature-card">
    <h3>
      <svg viewBox="0 0 24 24">
        <path d="M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z" />
      </svg>
      Real-Time Metrics
    </h3>
    <p>Continuously updated view of nodes, pods, and containers with CPU and memory metrics.</p>
  </div>
  <div class="feature-card">
    <h3>
      <svg viewBox="0 0 24 24">
        <path
          d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12C20,14.4 19,16.5 17.3,18C15.9,16.7 14,16 12,16C10,16 8.2,16.7 6.7,18C5,16.5 4,14.4 4,12A8,8 0 0,1 12,4M14,5.89C13.62,5.9 13.26,6.15 13.1,6.54L11.81,9.77L11.71,10C11,10.13 10.41,10.6 10.14,11.26C9.73,12.29 10.23,13.45 11.26,13.86C12.29,14.27 13.45,13.77 13.86,12.74C14.12,12.08 14,11.32 13.57,10.76L13.67,10.5L14.96,7.29L14.97,7.26C15.2,6.67 14.92,6 14.34,5.76C14.23,5.82 14.11,5.88 14,5.89M10,6A1,1 0 0,0 9,7A1,1 0 0,0 10,8A1,1 0 0,0 11,7A1,1 0 0,0 10,6M7,9A1,1 0 0,0 6,10A1,1 0 0,0 7,11A1,1 0 0,0 8,10A1,1 0 0,0 7,9M17,9A1,1 0 0,0 16,10A1,1 0 0,0 17,11A1,1 0 0,0 18,10A1,1 0 0,0 17,9Z" />
      </svg>
      Multiple Metrics Sources
    </h3>
    <p>Prometheus for enhanced metrics, Metrics Server, or graceful fallback to requests/limits.</p>
  </div>
  <div class="feature-card">
    <h3>
      <svg viewBox="0 0 24 24">
        <path
          d="M13.95 13.5H10.05L9.25 16H7.12L10.7 6H13.3L16.87 16H14.75L13.95 13.5M10.55 11.75H13.45L12 7.5L10.55 11.75M22 20V22H2V20H4V4C4 2.9 4.9 2 6 2H18C19.1 2 20 2.9 20 4V20H22Z" />
      </svg>
      Uses kubectl
    </h3>
    <p>Connects through the Kubernetes API and works anywhere kubectl is supported.</p>
  </div>
  <div class="feature-card">
    <h3>
      <svg viewBox="0 0 24 24">
        <path
          d="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M5,3H19C20.11,3 21,3.89 21,5V13.03C20.5,12.23 19.81,11.54 19,11V5H5V19H9.5C9.81,19.75 10.26,20.42 10.81,21H5C3.89,21 3,20.11 3,19V5C3,3.89 3.89,3 5,3M7,7H17V9H7V7M7,11H12.03C11.23,11.5 10.54,12.19 10,13H7V11M7,15H9.17C9.06,15.5 9,16 9,16.5V17H7V15Z" />
      </svg>
      User Friendly
    </h3>
    <p>Drill-down navigation with filter and mertrics sorting. View, stream, and search container logs.</p>
  </div>
  <div class="feature-card">
    <h3>
      <svg viewBox="0 0 24 24">
        <path
          d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" />
      </svg>
      Local Installation
    </h3>
    <p>Single binary that runs locally. No agents or server-side components needed.</p>
  </div>
</div>

<h2>Quick Install</h2>
<div class="install-section">
  <div class="install-tabs">
    <input type="radio" name="install-tab" id="tab-krew" checked>
    <label for="tab-krew">kubectl plugin</label>
    <input type="radio" name="install-tab" id="tab-brew">
    <label for="tab-brew">Homebrew</label>
    <input type="radio" name="install-tab" id="tab-go">
    <label for="tab-go">Go install</label>
    <input type="radio" name="install-tab" id="tab-binary">
    <label for="tab-binary">Binary</label>
  </div>

  <div id="content-krew" class="install-content active">
    <pre><code>kubectl krew install ktop
kubectl ktop</code></pre>
  </div>

  <div id="content-brew" class="install-content">
    <pre><code>brew tap vladimirvivien/oss-tools
brew install ktop</code></pre>
  </div>

  <div id="content-go" class="install-content">
    <pre><code>go install github.com/vladimirvivien/ktop@latest</code></pre>
  </div>

  <div id="content-binary" class="install-content">
    <p>Download from <a href="https://github.com/vladimirvivien/ktop/releases/latest">GitHub Releases</a></p>
  </div>
</div>

<script>
  document.querySelectorAll('.install-tabs input[type="radio"]').forEach(radio => {
    radio.addEventListener('change', function () {
      // Hide all content panels
      document.querySelectorAll('.install-content').forEach(c => c.classList.remove('active'));
      // Show the selected panel
      const contentId = 'content-' + this.id.replace('tab-', '');
      document.getElementById(contentId).classList.add('active');
    });
  });
</script>

{% endblock %}